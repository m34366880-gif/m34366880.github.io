{% extends "admin_base.html" %}

{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞–º–∏{% endblock %}

{% block admin_content %}
<div class="page-header">
    <h1>üéÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞–º–∏</h1>
    <a href="/admin/gifts/add" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫</a>
</div>

{% if gifts %}
<div class="table-container">
    <table class="admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>–ü—Ä–µ–≤—å—é</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–¶–µ–Ω–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for gift in gifts %}
            <tr>
                <td>#{{ gift.id }}</td>
                <td>
                    <img src="{{ gift.gif_url }}" alt="{{ gift.title }}" class="table-image">
                </td>
                <td><strong>{{ gift.title }}</strong></td>
                <td>{{ gift.description[:50] }}{% if gift.description|length > 50 %}...{% endif %}</td>
                <td>{{ gift.price }} TON</td>
                <td>
                    {% if gift.is_active %}
                    <span class="badge badge-success">–ê–∫—Ç–∏–≤–µ–Ω</span>
                    {% else %}
                    <span class="badge badge-danger">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                    {% endif %}
                </td>
                <td>{{ gift.created_at.strftime('%d.%m.%Y') }}</td>
                <td class="actions">
                    <a href="/admin/gifts/edit/{{ gift.id }}" class="btn btn-small btn-secondary">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å</a>
                    <form method="post" action="/admin/gifts/delete/{{ gift.id }}" style="display: inline;">
                        <button type="submit" class="btn btn-small btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="empty-state">
    <p>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤</p>
    <a href="/admin/gifts/add" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ–¥–∞—Ä–æ–∫</a>
</div>
{% endif %}
{% endblock %}
